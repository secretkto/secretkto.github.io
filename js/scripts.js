$(document).ready(function(){let t=$(".tab");let e=$(".tab .icon--close");let i=$(".list--materials .list-item");let a=$(".heading--primary");let l=$(".heading--primary-mobile");let s=$(".heading.is-route");let c=$(".panel-heading");let r=$(".list--furniture .list-item");let n=$(".panel-inside");let o=$(".panel--left");let d=$(".panel--left .panel-content");let h=$(".panel--right .panel-content");let v=$(".panel--right");let p=$(".icon--menu");let u=$(".button--open-menu");let f=$(".button--close-menu");let m=$(".menu");let g=$(".price-number");let x=$(".button--admin");let C=$(".admin .icon--close");let y=$(".admin");let w=$(".materials");let k=$(".heading--secondary .icon--close");let b=$(window).outerWidth();let M=$(".builder");let B=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--s-controls").slice(0,-2));let R=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--s-controls-min").slice(0,-2));M.ruler({vRuleSize:R,hRuleSize:B,showCrosshair:false});inlineSVG.init({svgSelector:".svg--inline"},function(){rt();nt();console.log("All SVGs inlined")});let S=function(){if(b<=991){a.removeClass("is-active");l.addClass("is-active");o.removeClass("is-active");d.removeClass("is-active");t.removeClass("is-active");y.removeClass("is-active");m.removeClass("is-active");p.removeClass("is-active");v.removeClass("is-active")}if(b>991){l.removeClass("is-active");a.addClass("is-active");o.addClass("is-active");d.eq(0).addClass("is-active");t.eq(0).addClass("is-active")}};S();$(window).resize(function(){if($(window).outerWidth()===b)return;b=$(window).outerWidth();if($(document.activeElement).prop("type")!=="text"){S()}});x.click(function(){y.toggleClass("is-active")});C.click(function(){y.removeClass("is-active")});u.click(function(){o.addClass("is-active");a.addClass("is-active");l.removeClass("is-active");$(this).parent().toggleClass("is-active");m.toggleClass("is-active")});f.click(function(){let t=false;d.each(function(){if($(this).is(".is-active")){t=true}});if(!t){o.removeClass("is-active");a.removeClass("is-active");l.addClass("is-active")}$(this).parent().toggleClass("is-active");m.toggleClass("is-active");y.removeClass("is-active");v.removeClass("is-active")});t.click(function(){t.removeClass("is-active");o.addClass("is-active");a.addClass("is-active");l.removeClass("is-active");$(this).addClass("is-active");let e=parseInt($(this).attr("data-index"));d.removeClass("is-active");d.eq(e-1).addClass("is-active");p.removeClass("is-active");m.removeClass("is-active")});e.click(function(e){t.removeClass("is-active");o.removeClass("is-active");d.removeClass("is-active");a.removeClass("is-active");l.addClass("is-active");e.stopPropagation()});r.click(function(){let t=$(this).index();n.eq(t).addClass("is-active")});c.click(function(){n.removeClass("is-active")});i.click(function(){let t=$(this).index();h.removeClass("is-active");h.eq(t+1).addClass("is-active")});s.click(function(){h.removeClass("is-active");h.eq(0).addClass("is-active")});let A=$(".list--textures");for(let t=1;t<11;t++){A.append(`<li class="list-item"><img src="/img/t-${t}.png" alt="Изображение текстуры"/></li>`)}let U=$(".list--textures .list-item");U.click(function(){U.removeClass("is-active");$(this).addClass("is-active")});w.click(function(){v.toggleClass("is-active")});k.click(function(){v.removeClass("is-active")});let j=$(".print");j.click(function(){window.print()});let Y=$(".count");function q(t,e){return Math.floor(Math.random()*(e-t+1)+t)}Y.click(function(){let t=q(1e3,1e4).toString();let e=[t.slice(0,1),t.slice(1)].join(" ");g.each(function(){$(this).html(e)})});let V=$(".data");let z=$(".watch-data");let E=$(".data .icon--close");let G=$(".data--construction-type input");let I=$(".data-value--door-type");let P=$(".data--opening-w input");let W=$(".data-value--opening-w");let O=$(".data--opening-h input");let D=$(".data-value--opening-h");let F=$(".data--rail-u input");let H=$(".data-value--rail-u");let J=$(".data--rail-b input");let K=$(".data-value--rail-b");let L=$(".data--rail-t select");let N=$(".data-value--rail-t");let Q=$(".data--sash-amount select");let T=$(".data-value--sash-amount");let X=$(".data--sash-type input");let Z=$(".data-value--sash-type");let _=$(".data--divider-type input");let tt=$(".data-value--divider-type");let et=$(".data--lintel-type input");let it=$(".data-value--lintel-type");let at=$(".data--profile-type input");let lt=$(".data-value--profile-type");let st=$(".data--profile-color input");let ct=$(".data-value--profile-color");G.each(function(){if($(this).prop("checked")){I.html($(this).attr("value"))}});G.click(function(){if($(this).prop("checked")){I.html($(this).attr("value"))}});W.html(P.attr("placeholder"));P.change(function(){W.html(P.val())});D.html(O.attr("placeholder"));O.change(function(){D.html(O.val())});H.html(F.attr("placeholder"));F.change(function(){H.html(F.val())});K.html(J.attr("placeholder"));J.change(function(){K.html(J.val())});N.html(L.children("option:selected").val());L.change(function(){N.html(L.children("option:selected").val())});T.html(Q.children("option:selected").val());Q.change(function(){T.html(Q.children("option:selected").val())});X.each(function(){if($(this).prop("checked")){Z.html($(this).attr("value"))}});X.click(function(){if($(this).prop("checked")){Z.html($(this).attr("value"))}});_.each(function(){if($(this).prop("checked")){tt.html($(this).attr("value"))}});_.click(function(){if($(this).prop("checked")){tt.html($(this).attr("value"))}});et.each(function(){if($(this).prop("checked")){it.html($(this).attr("value"))}});et.click(function(){if($(this).prop("checked")){it.html($(this).attr("value"))}});at.each(function(){if($(this).prop("checked")){lt.html($(this).attr("value"))}});at.click(function(){if($(this).prop("checked")){lt.html($(this).attr("value"))}});st.each(function(){if($(this).prop("checked")){ct.html($(this).attr("value"))}});st.click(function(){if($(this).prop("checked")){ct.html($(this).attr("value"))}});z.click(function(){V.addClass("is-active")});E.click(function(){V.removeClass("is-active")});let rt=function(){let t=.459995;let e=.851874-t;let i=.851874;let a={};let l=26.5729;let s=23.1557;let c=$(".svg");let r=18.25024;let n=10.15024;let o=4.95024;let d=l-e-e;let h=s-e-e;let v=5.36618;let p=17.5151;let u=(l-r-i-t)/2;let f=o-i;let m=i;let g=i;let x=s-i-i;let C=n-o-t;let y=o+t;let w=i;let k=s-i-i;let b=r-n-t;let M=n+t;let B=i;let R=s-i-i;let S=l-r-i-t;let A=r+t;let U=t+e;let j=v-i;let Y=v+t;let q=p-j-i-t;let V=p+t;let z=s-p-t-i;let E=[{x:e,y:e,w:t,h:h},{x:o,y:e,w:t,h:h},{x:n,y:e,w:t,h:h},{x:r,y:e,w:t,h:h},{x:l-i,y:e,w:t,h:h},{x:e,y:e,w:d,h:t},{x:e,y:s-i,w:d,h:t},{x:A,y:v,w:S,h:t},{x:A,y:p,w:S,h:t}];let G=[{x1:e-.1,y1:s/2,x2:e+t,y2:s/2},{x1:4.95024,y1:11.589,x2:5.41023,y2:11.589},{x1:10.05024,y1:11.589,x2:10.6,y2:11.589},{x1:18.05024,y1:11.589,x2:18.6,y2:11.589},{x1:25.75024,y1:11.589,x2:26.15024,y2:11.589},{x1:13.3056,y1:.900736,x2:13.3056,y2:.44072},{x1:13.305,y1:22.7273,x2:13.305,y2:22.2673},{x1:22.1675,y1:5.82617,x2:22.1675,y2:5.36615},{x1:22.1706,y1:17.9751,x2:22.1706,y2:17.5151}];for(let t=0;t<9;t++){d3.select(".svg defs #def-profile").append("linearGradient").attr("id",`profile${t}`).attr("gradientUnits","userSpaceOnUse").attr("xlink:href","#brown").attr("x1",G[t].x1).attr("y1",G[t].y1).attr("x2",G[t].x2).attr("y2",G[t].y2)}for(let t=0;t<9;t++){d3.select(".svg #profile-rects").append("rect").attr("x",E[t].x).attr("y",E[t].y).attr("width",E[t].w).attr("height",E[t].h).attr("class",`profile${t} profile`).attr("style",`fill: url(#profile${t})`)}for(let t=1;t<7;t++){d3.select(".svg #texture-rects").append("rect").attr("class",`\n          texture\n          texture${t}\n          ${t<=3?"is-active":""}\n        `).attr("style",`fill: url(#texture${t})`)}for(let t=1;t<11;t++){d3.select(".svg defs #def-textures").append("pattern").attr("id",`texture${t}`).attr("viewBox","0 0 1 1").append("image").attr("xlink:href",`img/t-1.png`).attr("preserveAspectRatio",`xMidYMid slice`).attr("width",1.1).attr("height",1.1);a[`pat${t}`]=$(`#texture${t}`);a[`rect${t}`]=$(`.texture${t}`)}a["pat1"].attr("width",u/S).attr("height",u/j-.05).attr("patternUnits","objectBoundingBox").attr("preserveAspectRatio","xMidYMid slice");a["rect1"].attr("x",A).attr("y",U).attr("width",S).attr("height",j);a["pat2"].attr("width",u/S).attr("height",u/q-.05).attr("patternUnits","objectBoundingBox").attr("preserveAspectRatio","xMidYMid slice");a["rect2"].attr("x",A).attr("y",Y).attr("width",S).attr("height",q);a["pat3"].attr("width",u/S).attr("height",u/z-.05).attr("patternUnits","objectBoundingBox").attr("preserveAspectRatio","xMidYMid slice");a["rect3"].attr("x",A).attr("y",V).attr("width",S).attr("height",z);a["pat4"].attr("width",u/b).attr("height",u/R-.01).attr("patternUnits","objectBoundingBox").attr("preserveAspectRatio","xMidYMid slice");a["rect4"].attr("x",M).attr("y",B).attr("width",b).attr("height",R);a["pat5"].attr("width",u/C).attr("height",u/k-.01).attr("patternUnits","objectBoundingBox").attr("preserveAspectRatio","xMidYMid slice");a["rect5"].attr("x",y).attr("y",w).attr("width",C).attr("height",k);a["pat6"].attr("width",u/f).attr("height",u/x-.01).attr("patternUnits","objectBoundingBox").attr("preserveAspectRatio","xMidYMid slice");a["rect6"].attr("x",m).attr("y",g).attr("width",f).attr("height",x);let I=d3.drag();let P=$(".panel--right .panel-content:not(:first-child)");let W=$(".texture");W.each(function(){$(this).click(function(){$(this).toggleClass("is-active")})})};let nt=function(){let t=$(".list--areas input");let e=$("#profile-rects");let i=$("#doors");let a=$("#texture-rects");let l=function(){i.removeClass("is-active");e.removeClass("is-active");a.removeClass("is-active")};let s=function(){t.each(function(){if($(this).prop("checked")){if($(this).prop("value")==="areas-doors"){i.addClass("is-active")}if($(this).prop("value")==="areas-profile"){e.addClass("is-active")}if($(this).prop("value")==="areas-texture"){e.addClass("is-active");a.addClass("is-active")}I.html($(this).attr("value"))}})};s();t.each(function(){$(this).change(function(){l();s()})})}});